## Polling

- Rest API도 WebSocket과 같이 실시간 통신이 가능하게 해주는 방식
- 클라이언트가 일정한 간격으로 서버에 요청을 보내서 결과를 전달받는 방식이다.

```js
const POLL_TIME = 1000;

setInterval(() => {
  fetch("https://text.com/location");
}, POLL_TIME);
```

- 이 방법은 구현이 쉽다는 장점이 있지만 서버의 상태가 변하지 않았을 때도 계속 요청을 보내서 받아와 하기에 필요 없는 요청이 많아지며, 또한 요청 간격을 정하기도 쉽지 않다.
- 폴링의 주기가 짧으면 서버의 성능에 부담
- 주기가 길면 실시간성이 좋지 않음
- 서버에서 바뀐 데이터가 없어도 계속 요청을 해야하고 결과를 줘야함

### Long Polling

- Polling의 단점으로 인해 새롭게 고안해 낸 것이 Long Polling이다.
- Long Polling도 Polling처럼 계속 요청을 보내지만 차이점은 일반 폴링은 주기적으로 요청을 보낸다면 롱폴링은 요청을 보내면 서버가 대기하고 있다가 이벤트가 발생했거나 타임아웃이 발생할 때 까지 기다린 후에 응답을 주게된다.
- 이렇게 클라이언트는 응답을받자마자 다시 요청을 보내게 된다.
- 서버의 상태 변화가 많이 없다면 폴링 방식보다 서버의 부담이 줄어들게 된다.
- 이러한 특징으로 롱 폴링은 실시간 메시지 전달이 중요하지만, 서버의 상태 변화가 자주 발생하지 않는 서비스에 적합하다.
<img width="642" alt="스크린샷 2023-09-06 오전 10 27 09" src="https://github.com/ehdgusdl9177/NodeJs/assets/75515697/37797df7-64f2-464c-9d49-e25bcc41a991">
