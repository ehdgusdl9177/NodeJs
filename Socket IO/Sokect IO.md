## Socket IO

- Node.js에서 WebSocket을 사용할 때 훨씬 더 편하게 사용할 수 있게 만들어주는 모듈이다.

- socket io 모듈을 이용하면 같은 socket io모듈로 클라이언트, 서버 모두 컨트롤할 수 있다. 또한 모든 브라우저에서 사용할 수 있게 된다.

### Socket io 특징

- HTTP long-polling fallback

  - WebSocket 연결을 설정할 수 없는 경우 연결은 HTTP 긴 폴링으로 대체된다.
  - 이 기능은 WebSockets에 대한 브라우저 지원이 아직 초기 단계였기 때문에 10년 이상 전에 프로젝트가 만들어졌을 때 사람들이 Socket io를 사용한 가장 큰 이유였다.
  - 현재 대부분의 브라우저가 WebSocket을 지원하더라도 일부 잘못 구성된 프록시 뒤에 있기 때문에 WebSocket 연결을 설정할 수 없는 사용자로부터 여전히 보고서를 받기 때문에 여전히 훌륭햔 기능이다.

- Automatic reconnection

  - 일부 특정 조건에서 서버와 클라이언트 간의 WebSocket 연결이 중단될 수 있으며 양쪽 모두 링크의 끊어진 상태를 인식하지 못한다.
  - 그렇기 때문에 Socket io에는 주기적으로 연결 상태를 확인하는 하트비트 메거니즘이 포함되어있다
  - 그리고 클라이언트가 결국 연결이 끊어지면 서버에 과부하가 걸리지 않도록 자동으로 다시 연결된다.

- Packet buffering

  - 클라이언트가 연결 해제되면 패킷이 자동으로 버퍼링되고 다시 연결되면 전송된다.
  - 기본적으로 소켓이 연결되지 않은 동안 발생한 모든 이벤트는 다시 연결될 때까지 버퍼링된다

- Acknowledgements

  - Socket.IO는 이벤트를 보내고 응답을 받는 편리한 방법을 제공한다.(sender, receiver)

- Broadcasting

  - 서버 측에서는 연결된 모든 클라이언트 또는 클라이언트 하위 집합에 이벤트를 보낼 수 있다.

- Multiplexing

  - 네임스페이스를 사용하면 단일 공유 연결을 통해 애플리케이션의 논리를 분할할 수 있다.
  - 예를 들어 인증된 사용자만 가입할 수 있는 "관리자" 채널을 만들려는 경우에 유용할 수 있다.
  - 네임스패이스
    - 네임스페이스는 단일 공유 연결을 통해 애플리케이션의 논리를 분할할 수 있는 통신 채널이다.

- 요즘 대부분의 브라우저에 websocket이 지원되지만 socket io에는 위와 같은 특징들이 있기 때문에 socket io를 쓰는 것이 유익하다.
